<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metroo Boomin radio</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="Music">
       
        <div class="player" style="align-self: center;">
            <marquee><h2 class="title">Music Name</h2></marquee>

            <audio src=""></audio>
            <div class="btns">
                <span class="prev">
                    <ion-icon name="play-back-outline"></ion-icon>
                </span>
                <span class="playPause active">
                    <ion-icon name="play-outline"></ion-icon>
                </span>
                <span class="next">
                    <ion-icon name="play-forward-outline"></ion-icon>
                </span>
            </div>
            <div class="progress-container">
                <progress class="progress" value="0" max="100"></progress>
                <div class="timing">0:00 / 0:00</div>
            </div>
        </div>
    </div>
    <script>
       
    
        const title = document.querySelector('.title');
        const prev = document.querySelector('.prev');
        const playPause = document.querySelector('.playPause');
        const next = document.querySelector('.next');
        const audio = document.querySelector('audio');
        const progress = document.querySelector('.progress');
        const timing = document.querySelector('.timing');
    
        const songList = [
        {
                path: "https://raw.githubusercontent.com/R1SH4BH81/metroBoomin-Radio/master/songs/3500.mp3",
                songName: "Travis Scott , Future , 2 Chainz - 3500 prod. Metro Boomin"
            },
            {
                path: "https://raw.githubusercontent.com/R1SH4BH81/metroBoomin-Radio/master/songs/allThemoney.mp3",
                songName: "Metro Boomin , Gunna - All the money"
            },
            {
                path: "https://raw.githubusercontent.com/R1SH4BH81/metroBoomin-Radio/master/songs/allThewayIlive.mp3",
                songName: "Metro Boomin , Future , Lil Uzi Vert - All the way that I live"
            },
            {
                path: "https://raw.githubusercontent.com/R1SH4BH81/metroBoomin-Radio/master/songs/amIdreaming.mp3",
                songName: "Metro Boomin , A$AP Rocky , Roisee - Am I dreaming"
            },
            {
                path: "https://raw.githubusercontent.com/R1SH4BH81/metroBoomin-Radio/master/songs/annhilate.mp3",
                songName: "Metro Boomin , Swae Lee , Lil Wayne , Offset - Annhilate"
            },
            {
                path: "https://raw.githubusercontent.com/R1SH4BH81/metroBoomin-Radio/master/songs/aroundMe.mp3",
                songName: "Metro Boomin , Don Toliver - Around me"
            },
            {
                path: "https://raw.githubusercontent.com/R1SH4BH81/metroBoomin-Radio/master/songs/badAndboujee.mp3",
                songName: "Migos , Lil Uzi Vert - Bad and boujee prod. Metro Boomin"
            },
            {
                path: "https://raw.githubusercontent.com/R1SH4BH81/metroBoomin-Radio/master/songs/bankAcc.mp3",
                songName: "21 Savage - Bank account prod. Metro Boomin"
            },
            {
                path: "https://raw.githubusercontent.com/R1SH4BH81/metroBoomin-Radio/master/songs/bounceBack.mp3",
                songName: " Big Sean - Bounce Back prod. Metro Boomin"
            },
            {
                path: "https://raw.githubusercontent.com/R1SH4BH81/metroBoomin-Radio/master/songs/calling.mp3",
                songName: "Metro Boomin , Swae Lee , NAV  - Calling"
            },
            {
                path: "https://raw.githubusercontent.com/R1SH4BH81/metroBoomin-Radio/master/songs/congratulations.mp3",
                songName: "Post Malone , Quavo - Congratulations prod. Metro Boomin"
            },
            
        ];
    
        function playSong() {
            audio.play();
            playPause.classList.add('active');
            playPause.innerHTML = "<ion-icon name='pause-outline'></ion-icon>";
        }

        function pauseSong() {
            audio.pause();
            playPause.classList.remove('active');
            playPause.innerHTML = "<ion-icon name='play-outline'></ion-icon>";
        }

        function loadSong(song) {
            title.textContent = song.songName;
            audio.src = song.path;
        }

        function prevSong() {
            currentSongIndex = (currentSongIndex - 1 + shuffledSongs.length) % shuffledSongs.length;
            loadSong(shuffledSongs[currentSongIndex]);
            playSong();
        }

        function nextSong() {
            currentSongIndex = (currentSongIndex + 1) % shuffledSongs.length;
            loadSong(shuffledSongs[currentSongIndex]);
            playSong();
        }

        function updateProgress() {
            const progressPercent = (audio.currentTime / audio.duration) * 100;
            progress.value = progressPercent;

            const currentMinutes = Math.floor(audio.currentTime / 60);
            const currentSeconds = Math.floor(audio.currentTime % 60);
            const durationMinutes = Math.floor(audio.duration / 60);
            const durationSeconds = Math.floor(audio.duration % 60);
            timing.textContent = `${currentMinutes}:${currentSeconds < 10 ? '0' : ''}${currentSeconds} / ${durationMinutes}:${durationSeconds < 10 ? '0' : ''}${durationSeconds}`;
        }

        audio.addEventListener('ended', () => {
            nextSong();
        });

        playPause.addEventListener('click', () => {
            if (audio.paused) {
                playSong();
            } else {
                pauseSong();
            }
        });

        prev.addEventListener('click', prevSong);

        next.addEventListener('click', nextSong);

        audio.addEventListener('timeupdate', updateProgress);

        progress.addEventListener('click', (event) => {
            const clickedTime = (event.offsetX / progress.offsetWidth) * audio.duration;
            audio.currentTime = clickedTime;
        });

        document.addEventListener('keydown', (event) => {
            if (event.key === 'MediaTrackPrevious') { // Previous button on some keyboards
                prevSong();
            } else if (event.key === 'MediaTrackNext') { // Next button on some keyboards
                nextSong();
            }
        });

        let shuffledSongs = shuffle(songList);
        let currentSongIndex = 0;

        loadSong(shuffledSongs[currentSongIndex]);
        playSong();

        function shuffle(array) {
            let currentIndex = array.length, temporaryValue, randomIndex;

            while (0 !== currentIndex) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex -= 1;
                temporaryValue = array[currentIndex];
                array[currentIndex] = array[randomIndex];
                array[randomIndex] = temporaryValue;
            }

            return array;
            
        }
    
       
    </script>
    
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

</body>
</html>
